# Конспект по Git

## 1. Git merge vs rebase vs cherry-pick

- **merge**
    - Создаёт новый коммит слияния.
    - История сохраняется ветвистой.
    - Удобно для командной работы — все видят реальную историю.
    - Пример:
      ```bash
      git checkout main
      git merge feature-branch
      ```

- **rebase**
    - Переписывает историю: коммиты из ветки "накладываются" поверх другой.
    - История становится линейной.
    - Удобно для чистой истории, но не рекомендуется для публичных веток.
    - Пример:
      ```bash
      git checkout feature-branch
      git rebase main
      ```
- **cherry-pick**
- Команда для выбора **одного конкретного коммита** и применения его в другой ветке.
- Полезно, если:
    - Нужно перенести один фикс без всей истории.
    - Нужно быстро применить исправление в `main` или `hotfix`.
- Пример:
  ```bash
  git checkout main
  git cherry-pick <commit_hash>

### До операций

```
A---B---C main
     \
      D---E feature
```

### После git merge

```
A---B---C---F main
     \     /
      D---E feature
```

### После git rebase

```
A---B---C---D'---E' main
            feature
```

### После git cherry-pick (коммита E):

```
A---B---C---E' main
     \
      D---E feature
```

---

## 2. Git Flow

Git Flow — популярная стратегия ветвления:

- `main` — стабильная ветка с релизами.
- `develop` — основная рабочая ветка для разработки.
- `feature/*` — ветки для новых фич, ответвляются от `develop`.
- `release/*` — подготовка релизов, фиксы и документация.
- `hotfix/*` — срочные исправления багов из `main`.

Основные правила:

- Новые фичи → `feature/*` → merge в `develop`.
- Подготовка релиза → `release/*` → merge в `main` и `develop`.
- Срочные фиксы → `hotfix/*` → merge в `main` и `develop`.

---

## 3. fetch vs pull

- **git fetch**
    - Загружает изменения с удалённого репозитория, но **не сливает** их с локальной веткой.
    - Позволяет сначала посмотреть изменения.
    - Пример:
      ```bash
      git fetch origin
      ```

- **git pull**
    - Делает `fetch` + автоматический `merge` (или `rebase`, если настроено).
    - Быстрое обновление локальной ветки.
    - Пример:
      ```bash
      git pull origin main
      ```

---

## 4. squash commits

Git Squash Commits — это техника в системе контроля версий Git, которая позволяет объединить несколько коммитов в один.
Это полезно, когда история коммитов загромождена множеством мелких изменений, которые загромождают историю
```bash
git rebase -i HEAD~N
```
---
## 5. Отмена коммита

Если нужно отменить только коммит, но сохранить изменения в рабочей директории:

```bash
git reset --soft HEAD~1
```
Если нужно отменить коммит и изменения 

```bash
git reset --hard HEAD~1
```
Если коммит уже в удалённом репозитории, то лучше использовать git revert, чтобы создать новый "отменяющий" коммит:

```bash
git revert HEAD
```