# Изменения в PHP 7 и 8

## PHP 7.X

PHP 7 привнёс существенный прирост производительности (новый Zend Engine 3.0), улучшенную типизацию и современный набор
синтаксических конструкций.

### PHP 7.0 (декабрь 2015)

- `declare(strict_types=1)` — строгая типизация.
- Scalar type declarations (`int`, `float`, `string`, `bool`).
- Return type declarations (тип возвращаемого значения).
- Оператор spaceship `<=>` (сравнение: -1 если справа больше, 0 если равны, 1 если слева больше).
- Null coalescing оператор `??`.
- Анонимные классы.
- Новая модель ошибок/исключений: `Throwable`, `Error` (отделение фатальных ошибок от `Exception`).
- Удалены устаревшие `mysql_*` функции.

### PHP 7.1 (декабрь 2016)

- Nullable типы: `?Type`.
- `void` как возвращаемый тип.
- `iterable` псевдотип.
- Возможность задавать видимость для констант класса.
- Множественные исключения в `catch (A | B $e)`.

### PHP 7.2 (ноябрь 2017)

- Новый тип `object`.

### PHP 7.3 (декабрь 2018)

- Trailing commas в вызовах функций.
- Flexible heredoc/nowdoc синтаксис.

### PHP 7.4 (ноябрь 2019)

- Typed properties (типизация свойств класса).
- Arrow functions `fn(...) => expr` (короткие замыкания).
- Null coalescing assignment `??=`.
- Preloading (предзагрузка классов в opcache).
- Депрекация доступа к строкам через фигурные скобки (`$str{0}`).

---

## PHP 8.X

PHP 8 ввёл крупные изменения в типовой системе, новые синтаксические конструкции (attributes, named args), а также
улучшения производительности и JIT.

### PHP 8.0 (ноябрь 2020)

- JIT (Just-In-Time компиляция).
- Union types: `int|float`.
- Named arguments — передача аргументов по имени.
- Match expression — альтернатива `switch`.
- Constructor property promotion — упрощённая запись свойств в конструкторе.
- Nullsafe оператор `?->`.
- Attributes (атрибуты вместо phpdoc-аннотаций).
- `throw` как выражение.

### PHP 8.1 (ноябрь 2021)

- Enums (перечисления).
- Fibers (кооперативная многозадачность).
- `readonly` свойства (инициализируются только один раз).

Ограничивает мутабельность свойства.

Свойство можно установить только один раз — при инициализации (в конструкторе или при объявлении).

После этого значение менять нельзя, даже внутри самого класса.
- `never` как возвращаемый тип.

### PHP 8.2 (декабрь 2022)

- `readonly` классы (все свойства экземпляров readonly).
- Типы `true`, `false`, `null` как самостоятельные.
- Константы в трейтах.

## Полезные ссылки
- [Видосик "PHP 8.0 - 8.2 | Производительность и фичи"](https://www.youtube.com/watch?v=u_WEnV_d5OI)
